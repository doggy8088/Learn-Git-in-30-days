# Day 17: Basic Concepts and Usage of Merging

Merging is one of the most important features in Git. After creating branches to develop different features or fix bugs separately, you eventually need to merge these changes back together. This article introduces the basic concepts and usage of Git merging.

## Understanding Merging

Merging is the process of combining changes from different branches. When you merge, Git attempts to automatically combine the changes from two or more branches into one.

There are two main types of merges in Git:

1. **Fast-forward merge**: Used when the target branch hasn't diverged from the source branch
2. **Three-way merge**: Used when both branches have new commits

## Fast-Forward Merge

A fast-forward merge occurs when the current branch hasn't diverged from the branch being merged. Git simply moves the branch pointer forward.

```
# On master branch
git merge feature-branch
```

If `master` hasn't had any new commits since `feature-branch` was created, Git performs a fast-forward merge.

## Three-Way Merge

When both branches have new commits, Git performs a three-way merge, creating a new merge commit that combines the changes from both branches.

```
# On master branch
git merge feature-branch
```

This creates a new commit with two parent commits.

## Preventing Fast-Forward

Sometimes you want to preserve the branch history even when a fast-forward is possible:

```
git merge --no-ff feature-branch
```

This always creates a merge commit, even for fast-forward merges.

## Merge Conflicts

Conflicts occur when the same lines in the same files have been changed differently in the two branches being merged. When this happens:

1. Git pauses the merge
2. Marks the conflicting files
3. Adds conflict markers to the files
4. Waits for you to resolve the conflicts

## Viewing Conflicting Files

To see which files have conflicts:

```
git status
```

Files with conflicts are listed as "both modified".

## Conflict Markers

Git adds markers to conflicting files:

```
<<<<<<< HEAD
Your changes
=======
Their changes
>>>>>>> branch-name
```

* `<<<<<<< HEAD`: Marks the beginning of your changes
* `=======`: Separates the two versions
* `>>>>>>> branch-name`: Marks the end of the incoming changes

## Resolving Conflicts

To resolve conflicts:

1. Open the conflicting files
2. Look for the conflict markers
3. Edit the file to resolve the conflict
4. Remove the conflict markers
5. Stage the resolved files: `git add <file>`
6. Complete the merge: `git commit`

## Aborting a Merge

If you want to cancel a merge in progress:

```
git merge --abort
```

This returns your repository to the state before the merge started.

## Viewing Merge History

To see merge commits in your history:

```
git log --oneline --graph --all
```

This shows a visual representation of your branch and merge history.

## Merge Strategies

Git supports different merge strategies:

* **recursive** (default): The default three-way merge strategy
* **ours**: Always prefer our version in conflicts
* **theirs**: Always prefer their version in conflicts

```
git merge -X ours branch-name
git merge -X theirs branch-name
```

## Best Practices

1. **Commit your work** before merging
2. **Pull latest changes** from the remote before merging
3. **Test the merge** before pushing to shared branches
4. **Communicate** with your team about merges
5. **Keep merges small** when possible

## Today's Summary

Merging is a fundamental Git operation that allows you to combine work from different branches. Understanding how merges work, especially how to handle conflicts, is essential for effective collaboration. Practice merging regularly to become comfortable with the process.

Let me reorganize the Git commands and parameters learned today:

* git merge
* git merge --no-ff
* git merge --abort
* git merge -X ours
* git merge -X theirs
* git log --graph
* git status

---

* [Back to Table of Contents](README.md)
* [Previous Day: Using git reflog to Track Change History](16.md)
* [Next Day: Fixing Committed Version History Part 1 (reset & amend)](18.md)

---
